---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { Home, ArrowLeft, Search } from 'lucide-react';

const title = '404 - P치gina no encontrada | Simio CodeLabs';
const description = 'Esta p치gina no existe o fue movida. Vuelve al inicio o explora el portafolio.';
---

<BaseLayout title={title} description={description} lang="es">

  <div class="relative min-h-screen flex items-center justify-center px-4 overflow-hidden bg-gradient-to-br from-background via-background to-muted/20">
    <div class="max-w-2xl w-full text-center space-y-8 z-10">
      <div class="space-y-4" id="error-content">
        <div class="inline-block">
          <h1 class="text-[10rem] sm:text-[12rem] md:text-[15rem] font-black leading-none tracking-tighter">
            <span class="glitch-text bg-gradient-to-r from-primary via-purple-500 to-primary bg-clip-text text-transparent" data-text="404">
              404
            </span>
          </h1>
        </div>

        <div class="space-y-2">
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-black tracking-tight text-foreground">
            Esta p치gina no existe
          </h2>
          <p class="text-lg sm:text-xl text-muted-foreground max-w-md mx-auto">
            Parece que te perdiste. Pero no te preocupes, hasta los mejores devs nos perdemos a veces.
          </p>
        </div>

        <div class="pt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
          <a
            href="/"
            class="group inline-flex items-center gap-2 rounded-full bg-primary px-6 py-3 text-base font-semibold text-primary-foreground shadow-lg transition-all hover:scale-105 hover:shadow-primary/50"
          >
            <Home className="w-5 h-5 group-hover:-translate-x-1 transition-transform" strokeWidth={2} />
            Volver al inicio
          </a>

          <a
            href="/portafolio/"
            class="group inline-flex items-center gap-2 rounded-full border-2 border-border bg-background px-6 py-3 text-base font-semibold transition-all hover:border-primary hover:bg-muted"
          >
            <Search className="w-5 h-5" strokeWidth={2} />
            Ver proyectos
          </a>
        </div>

        <div class="pt-8">
          <button
            onclick="window.history.back()"
            class="group inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors"
          >
            <ArrowLeft className="w-4 h-4 group-hover:-translate-x-1 transition-transform" strokeWidth={2} />
            Volver atr치s
          </button>
        </div>
      </div>

      <div class="pt-12 text-xs text-muted-foreground/60 font-mono">
        Error Code: 404 | Page Not Found
      </div>
    </div>
  </div>

  <style>
    @keyframes glitch {
      0% {
        text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
          -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
          -0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
      }
      14% {
        text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
          -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
          -0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
      }
      15% {
        text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
          0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
          -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
      }
      49% {
        text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
          0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
          -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
      }
      50% {
        text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
          0.05em 0 0 rgba(0, 255, 0, 0.75),
          0 -0.05em 0 rgba(0, 0, 255, 0.75);
      }
      99% {
        text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
          0.05em 0 0 rgba(0, 255, 0, 0.75),
          0 -0.05em 0 rgba(0, 0, 255, 0.75);
      }
      100% {
        text-shadow: -0.025em 0 0 rgba(255, 0, 0, 0.75),
          -0.025em -0.025em 0 rgba(0, 255, 0, 0.75),
          -0.025em -0.05em 0 rgba(0, 0, 255, 0.75);
      }
    }

    .glitch-text {
      animation: glitch 2s infinite;
      position: relative;
    }

    .glitch-text::before,
    .glitch-text::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    .glitch-text::before {
      animation: glitch 650ms infinite;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
      transform: translate(-0.025em, -0.0125em);
      opacity: 0.8;
    }

    .glitch-text::after {
      animation: glitch 375ms infinite;
      clip-path: polygon(0 80%, 100% 20%, 100% 100%, 0 100%);
      transform: translate(0.0125em, 0.025em);
      opacity: 0.8;
    }

    @media (prefers-reduced-motion: reduce) {
      .glitch-text,
      .glitch-text::before,
      .glitch-text::after {
        animation: none;
      }
    }
  </style>

  <script>
    import { gsap } from 'gsap';

    document.addEventListener('DOMContentLoaded', () => {
      const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

      tl.from('#error-content h1', {
        scale: 0.5,
        opacity: 0,
        duration: 0.8,
      })
      .from('#error-content h2', {
        y: 30,
        opacity: 0,
        duration: 0.6,
      }, '-=0.4')
      .from('#error-content p', {
        y: 20,
        opacity: 0,
        duration: 0.6,
      }, '-=0.3')
      .from('#error-content a, #error-content button', {
        y: 20,
        opacity: 0,
        duration: 0.4,
        stagger: 0.1,
      }, '-=0.2');

      const handleClick = (e: MouseEvent) => {
        const ripple = document.createElement('div');
        ripple.className = 'fixed rounded-full bg-primary/30 pointer-events-none';
        ripple.style.left = e.clientX + 'px';
        ripple.style.top = e.clientY + 'px';
        ripple.style.width = '0px';
        ripple.style.height = '0px';
        document.body.appendChild(ripple);

        gsap.to(ripple, {
          width: '200px',
          height: '200px',
          x: '-100px',
          y: '-100px',
          opacity: 0,
          duration: 0.8,
          ease: 'power2.out',
          onComplete: () => ripple.remove(),
        });
      };

      document.addEventListener('click', handleClick);
    });
  </script>
</BaseLayout>
